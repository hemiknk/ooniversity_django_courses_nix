{% extends 'base.html' %}


{% load staticfiles %}


{% block title %}Студенты{% endblock %}


{% block content %}

    <div class="alert alert-success" role="alert">
        <h4 class="alert-heading">Список студентов</h4>
        <hr>
    </div>
    <a href="{% url 'students:add' %}" class="btn btn-primary" role="button" aria-disabled="true">Добавить нового
        студента</a>
    <table class="table table-striped table-hover table-bordered">
        <thead class="">
        <tr>
            <td>#</td>
            <td>фамилия имя</td>
            <td>адрес</td>
            <td>skype</td>
            <td>курсы</td>
            <td>Изменить</td>
            <td>Удалить</td>
        </tr>
        </thead>
        <tbody>
        {% for student in students %}
            <tr>
                <td>{{ student.get_serial_number }}</td>
                <td><a href="{% url 'students:detail' student.id %}">{{ student.get_name_surname }}</a></td>
                <td>{{ student.address }}</td>
                <td>{{ student.skype }}</td>
                <td>
                    {% for course in student.courses.all %}
                        <a href="{% url 'courses:detail' course.id %}">{{ course.name }}</a><br/>
                    {% endfor %}
                </td>
                <td><a href="{% url 'students:edit' student.id %}"
                       class="btn btn-primary"
                       role="button">Изменить
                </a>
                </td>
                <td><a href="{% url 'students:remove' student.id %}"
                       class="btn btn-danger"
                       role="button">Удалить
                </a>
                </td>

            </tr>

        {% endfor %}
        </tbody>
    </table>

    <div class="pagination">
        {% if students.has_other_pages %}
            <ul class="pagination">
                {% if students.has_previous %}
                    <li><a href="?page={{ students.previous_page_number }}">&laquo;</a></li>
                {% else %}
                    <li class="disabled"><span>&laquo;</span></li>
                {% endif %}
                {% for i in students.paginator.page_range %}
                    {% if students.number == i %}
                        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                    {% else %}
                        <li><a href="?page={{ i }}">{{ i }}</a></li>
                    {% endif %}
                {% endfor %}
                {% if students.has_next %}
                    <li><a href="?page={{ students.next_page_number }}">&raquo;</a></li>
                {% else %}
                    <li class="disabled"><span>&raquo;</span></li>
                {% endif %}
            </ul>
        {% endif %}
    </div>
{% endblock content %}
